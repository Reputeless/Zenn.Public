---
title: "<string> ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•° [ğŸŸ¢C++20 å¯¾å¿œ]"
free: true
---

æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã® `<string>` ãƒ˜ãƒƒãƒ€ã¯ã€`std::string` ä»¥å¤–ã«ã‚‚ã€æ–‡å­—åˆ—ã‚’æ“ä½œã™ã‚‹ãŸã‚ã®ã„ãã¤ã‹ã®é–¢æ•°ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚


# 1. æ•°å€¤ã‹ã‚‰ `std::string` ã¸ã®å¤‰æ›

## 1.1 æ•°å€¤ã‚’ `std::string` ã«å¤‰æ›ã™ã‚‹
- `std::to_string(n)` ã¯ã€æ•° `n` ã‚’æ–‡å­—åˆ—ã«å¤‰æ›ã—ã€`std::string` å‹ã§è¿”ã—ã¾ã™ã€‚
- `float` ã‚„ `double` ãªã©æµ®å‹•å°æ•°ç‚¹æ•°å‹ã«ã¤ã„ã¦ã¯ç²¾åº¦ã®æŒ‡å®šã¯ã§ãã¾ã›ã‚“ã€‚

```cpp
#include <iostream>
#include <string>

int main()
{
	int n = 123;
	double x = 1.23456789;

	std::string s = std::to_string(n);
	std::string t = std::to_string(x);

	std::cout << s << '\n';
	std::cout << t << '\n';
}
```
```txt:å‡ºåŠ›
123
1.234568
```


# 2. æ–‡å­—åˆ—ã‹ã‚‰æ•°å€¤ã¸ã®å¤‰æ›

## 2.1 æ•°ãŒæ›¸ã‹ã‚ŒãŸæ–‡å­—åˆ—ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦æ•´æ•°ã«å¤‰æ›ã™ã‚‹
- `std::stoi(s)` ã¯ã€æ–‡å­—åˆ— `s` ã‚’ãƒ‘ãƒ¼ã‚¹ã— `int` å‹ã§è¿”ã—ã¾ã™ã€‚
- `std::stoull(s)` ã¯ã€æ–‡å­—åˆ— `s` ã‚’ãƒ‘ãƒ¼ã‚¹ã— `unsigned long long` å‹ã§è¿”ã—ã¾ã™ã€‚
- `s` ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹æ•°ãŒã€å¤‰æ›å¾Œã®å‹ã§è¡¨ç¾ã§ãã‚‹ç¯„å›²å¤–ã®å ´åˆã€`std::out_of_range` ä¾‹å¤–ãŒé€å‡ºã•ã‚Œã¾ã™ã€‚

```cpp
#include <iostream>
#include <string>

int main()
{
	std::string s1 = "1200";
	std::string s2 = "9876543210";

	int n1 = std::stoi(s1); // æ–‡å­—åˆ—ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦ int å‹ã«å¤‰æ›ã™ã‚‹
	unsigned long long n2 = std::stoull(s2); // æ–‡å­—åˆ—ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦ unsigned long long å‹ã«å¤‰æ›ã™ã‚‹

	std::cout << n1 << '\n';
	std::cout << n2 << '\n';
}
```
```txt:å‡ºåŠ›
1200
9876543210
```


## 2.2 æ•°ï¼ˆ2 é€²æ•°ï¼‰ãŒæ›¸ã‹ã‚ŒãŸæ–‡å­—åˆ—ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦æ•´æ•°ã«å¤‰æ›ã™ã‚‹
- `std::stoi(s, idx, base)` ã¯ã€æ–‡å­—åˆ— `s` ã‚’ `base` é€²æ•°ã¨ã¿ãªã—ã¦ãƒ‘ãƒ¼ã‚¹ã— `int` å‹ã§è¿”ã—ã¾ã™ã€‚`idx` ã¯ä»Šå›ã¯ä½¿ã‚ãšã€`nullptr` ã«ã—ã¾ã™ã€‚
- `std::stoull(s, idx, base)` ã¯ã€æ–‡å­—åˆ— `s` ã‚’ `base` é€²æ•°ã¨ã¿ãªã—ã¦ãƒ‘ãƒ¼ã‚¹ã— `unsigned long long` å‹ã§è¿”ã—ã¾ã™ã€‚`idx` ã¯ä»Šå›ã¯ä½¿ã‚ãšã€`nullptr` ã«ã—ã¾ã™ã€‚
- 2 é€²æ•°ãŒæ›¸ã‹ã‚ŒãŸæ–‡å­—åˆ— `s` ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦æ•´æ•°ã«å¤‰æ›ã™ã‚‹ã«ã¯ã€`base` ã« `2` ã‚’æŒ‡å®šã—ã¾ã™ã€‚
- `s` ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹æ•°ãŒã€å¤‰æ›å¾Œã®å‹ã§è¡¨ç¾ã§ãã‚‹ç¯„å›²å¤–ã®å ´åˆã€`std::out_of_range` ä¾‹å¤–ãŒé€å‡ºã•ã‚Œã¾ã™ã€‚

```cpp
#include <iostream>
#include <string>

int main()
{
	std::string s1 = "0111";
	std::string s2 = "1000";
	// 1 ãŒ 64 å€‹
	std::string s3 = "1111111111111111111111111111111111111111111111111111111111111111";

	int n1 = std::stoi(s1, nullptr, 2); // 2 é€²æ•°ã¨ã—ã¦ãƒ‘ãƒ¼ã‚¹ã—ã¦ int å‹ã«å¤‰æ›ã™ã‚‹
	int n2 = std::stoi(s2, nullptr, 2); // 2 é€²æ•°ã¨ã—ã¦ãƒ‘ãƒ¼ã‚¹ã—ã¦ int å‹ã«å¤‰æ›ã™ã‚‹
	unsigned long long n3 = std::stoull(s3, nullptr, 2); // 2 é€²æ•°ã¨ã—ã¦ãƒ‘ãƒ¼ã‚¹ã—ã¦ unsigned long long å‹ã«å¤‰æ›ã™ã‚‹

	std::cout << n1 << '\n';
	std::cout << n2 << '\n';
	std::cout << n3 << '\n';
}
```
```txt:å‡ºåŠ›
7
8
18446744073709551615
```


## 2.3 æ•°ï¼ˆ16 é€²æ•°ï¼‰ãŒæ›¸ã‹ã‚ŒãŸæ–‡å­—åˆ—ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦æ•´æ•°ã«å¤‰æ›ã™ã‚‹
- 16 é€²æ•°ãŒæ›¸ã‹ã‚ŒãŸæ–‡å­—åˆ— `s` ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦æ•´æ•°ã«å¤‰æ›ã™ã‚‹ã«ã¯ã€`base` ã« `16` ã‚’æŒ‡å®šã—ã¾ã™ã€‚
- `s` ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹æ•°ãŒã€å¤‰æ›å¾Œã®å‹ã§è¡¨ç¾ã§ãã‚‹ç¯„å›²å¤–ã®å ´åˆã€`std::out_of_range` ä¾‹å¤–ãŒé€å‡ºã•ã‚Œã¾ã™ã€‚

```cpp
#include <iostream>
#include <string>

int main()
{
	std::string s1 = "7ff";
	std::string s2 = "800";
	// f ãŒ 16 å€‹
	std::string s3 = "ffffffffffffffff";

	int n1 = std::stoi(s1, nullptr, 16); // 16 é€²æ•°ã¨ã—ã¦ãƒ‘ãƒ¼ã‚¹ã—ã¦ int å‹ã«å¤‰æ›ã™ã‚‹
	int n2 = std::stoi(s2, nullptr, 16); // 16 é€²æ•°ã¨ã—ã¦ãƒ‘ãƒ¼ã‚¹ã—ã¦ int å‹ã«å¤‰æ›ã™ã‚‹
	unsigned long long n3 = std::stoull(s3, nullptr, 16); // 16 é€²æ•°ã¨ã—ã¦ãƒ‘ãƒ¼ã‚¹ã—ã¦ int å‹ã«å¤‰æ›ã™ã‚‹

	std::cout << n1 << '\n';
	std::cout << n2 << '\n';
	std::cout << n3 << '\n';
}
```
```txt:å‡ºåŠ›
2047
2048
18446744073709551615
```


## 2.4 æ•°ï¼ˆ36 é€²æ•°ï¼‰ãŒæ›¸ã‹ã‚ŒãŸæ–‡å­—åˆ—ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦æ•´æ•°ã«å¤‰æ›ã™ã‚‹
- 36 é€²æ•°ãŒæ›¸ã‹ã‚ŒãŸæ–‡å­—åˆ— `s` ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦æ•´æ•°ã«å¤‰æ›ã™ã‚‹ã«ã¯ã€`base` ã« `36` ã‚’æŒ‡å®šã—ã¾ã™ã€‚
- `s` ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹æ•°ãŒã€å¤‰æ›å¾Œã®å‹ã§è¡¨ç¾ã§ãã‚‹ç¯„å›²å¤–ã®å ´åˆã€`std::out_of_range` ä¾‹å¤–ãŒé€å‡ºã•ã‚Œã¾ã™ã€‚

```cpp
#include <iostream>
#include <string>

int main()
{
	std::string s1 = "zzz";
	std::string s2 = "1000000000";

	int n1 = std::stoi(s1, nullptr, 36); // 36 é€²æ•°ã¨ã—ã¦ãƒ‘ãƒ¼ã‚¹ã—ã¦ int å‹ã«å¤‰æ›ã™ã‚‹
	unsigned long long n2 = std::stoull(s2, nullptr, 36); // 36 é€²æ•°ã¨ã—ã¦ãƒ‘ãƒ¼ã‚¹ã—ã¦ unsigned long long å‹ã«å¤‰æ›ã™ã‚‹

	std::cout << n1 << '\n';
	std::cout << n2 << '\n';
}
```
```txt:å‡ºåŠ›
46655
101559956668416
```

